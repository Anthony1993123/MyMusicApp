# README

本项目用于记录学习imooc课程 [企业级Android应用架构设计与开发](https://coding.imooc.com/class/364.html) 的学习笔记

**学习方式：**
* 看课程视频
* 下载课程代码，用 **Sublime merge** 查看各个章节的修改，关键模块的代码自己手动敲一遍
* 每章学完后进行总结，总结的时候思考怎样在简历上体现以及面试问到后怎样回答



### lib_network

lib_network 组件是对网络请求的封装，目的是为不同的业务提供统一的网络请求接口，避免各个业务自己实现，减少代码冗余，同时也是为了让业务模块能够与第三方的网络框架解耦，让业务不依赖特定的第三方组件。

#####  技术选型

由于目前Android领域已经有了非常成熟的网络框架，我们这次是针对优秀网络框架的二次封装。最终选择的是**OkHttp**， 因为它是目前最主流的网络框架，而且具有以下特点：

* 功能齐全
* 高性能
* 代码优秀，各种设计模式的运用（Singleton，Builder，策略模式，拦截器模式等等）

**封装思路：**

一次完整的网络请求主要包含三个部分：请求，响应和发送。因此我们的封装也是按照这三个部分来实现的。

* CommonRequest：封装 get/post/文件上传请求的构建
* CommonResponse：封装JsonCallback，供UI层获取数据和更新界面；封装OkHttpException，提高定位效率；封装FileCallback，处理文件下载请求并实现下载进度更新
* OkHttpClient：封装一个单例，用于发送post/get/文件下载请求并做一些通用的设置，例如校验hostname，添加公共请求头，设置超时时间等等，后续可以灵活扩展，通过添加setter方法让业务根据需要设置参数。